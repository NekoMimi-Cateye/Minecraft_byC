# C-Craft
## 概要
4Jゲーム課題で作成したマインクラフト
## 注意点
- v1内がゲームとなっており, game.exeが実行ファイル, MakefileがMakefile(そのまま), game.cがプログラムとなっています
- Cygwin用にMakefileを作成しているためlinux環境などの場合は自身の環境に合わせて書き換えをしてください.
- GLUTを使用しているためライブラリがない場合はインストールしてください
- チャンクロード時にラグが発生しますがお使いのPCは正常なので安心してください
## 必要スペック
- ROM セーブデータ1GB
- RAM (確認時)ワールド生成時200-250MB, プレイ時100-150MB
## 動作確認環境
- コンパイラ: Cygwin(64bit) i686-pc-cygwin-gcc
## 標準以外で使用しているライブラリ
- sys/time.h
- GLUT
## 基本情報
### ワールドの大きさ
+ 作成サイズ: 64x64(chunk), 高さ256ブロック.
+ 移動可能領域: 62x62(chunk), 高さ256ブロック+ジャンプ分.(chunk: 16x16, 高さ256のブロックの塊を単位にしたもの)

+ 総ブロック数: (約)5000~8000万ブロック(参考: 平均高さ約80としてすべてブロックで地中を埋めた場合が約7800万ブロック)
### バイオーム
- 草地バイオーム ... 表面が土に覆われている. ところどころに木が点在している.
- 森バイオーム ... 表面が土に覆われている. 表面のほとんどが木におおわれている.
- 砂漠バイオーム ... 表面が砂でおおわれている. 砂漠なので木はない.  
### ブロック種類 (計16種)
- (空気ブロック)
- 土ブロック ... 砂漠バイオーム以外の表層を覆っているブロック. スコップを使用で回収速度が上昇する.
- 砂ブロック ... 砂漠バイオームの表層を覆っているブロック. かまどで製錬するとガラスブロックになる. スコップを使用で回収速度が上昇する.
- 石ブロック ... 地表から4ブロック以上深くを(洞窟を除き)埋め尽くしている. ピッケルにより回収可能. ピッケル以外でも壊せるが時間がかかる.
- 石炭ブロック ... 高さ0~128にかけて生成される. かまどの燃料に使用すると長い間燃焼する. ピッケルにより回収可能. ピッケル以外でも壊せるが時間がかかる.
- 鉄ブロック ... 高さ0~64にかけて生成される鉱石.  鉄の道具を作るために使用する. 石, 鉄またはダイヤのピッケルにより回収可能. それ以外でも壊せるが時間がかかる.
- 金ブロック ... 高さ0~32にかけて生成される貴重な鉱石. 金の道具を作るのに使用するが金の道具はもろいため, あまり使い道がない. 鉄またはダイヤのピッケルにより回収可能. それ以外でも壊せるが時間がかかる.
- ダイヤブロック ... 高さ0~16にかけて生成される最も貴重な鉱石. ダイヤの道具を作るのに使用する.鉄またはダイヤのピッケルにより回収可能. それ以外でも壊せるが時間がかかる.
- 岩盤ブロック ... 高さ0を埋め尽くすブロックであり, 掘ることができない. もしバグで掘れた場合には報告してください.
- 水ブロック ... 景観用. Y=64が水面. 掘ることはできないが水としての機能は果たしていないためただの青いブロックともいえる.
- 木ブロック ... ワールド作成時に作成される. 森バイオームでは大量にこれが発生する. はじめはこれをいっぱい回収して作業台と道具を木のツルハシを作るのがMINECRAFTでは王道ルート
- 葉ブロック ... ワールド作成時に木ブロックの周りに生成. 素手で掘ることができ, 確率でリンゴを取得することができる.
- 木材ブロック  ... 建築材につかうもよし, アイテム作成の素材にもできる優れもの. 基本的に木より汎用性が高い. 木製であるため燃料にでき, 斧を使用で回収速度が上昇する.
- 作業台 ... クラフトを行うためのもの. 木製であるため燃料にでき, 斧を使用で回収速度が上昇する.
- かまど ... 砂をガラスに製錬するためのもの. 石製であるため, ツルハシでないと回収できない.
- ガラスブロック ... 黒く半透明, 一度置くと回収不可能
## その他アイテム種類(計17種)
- 棒 ... 道具の作成に使用
- ピッケル(木, 石, 鉄, 金, ダイヤ) ... 石・かまど・石炭・鉄・金・ダイヤを回収するために使用. (木・金)<石<鉄<ダイヤの順で汎用性が高く, 木<石<鉄<(金・ダイヤ)の順で掘削速度が速い.
- シャベル(木, 石, 鉄, 金, ダイヤ) ... 土と砂を掘る速度が上がる. 主に建築時に地面をならすための整地の効率を上げるために使用する. 木<石<鉄<(金・ダイヤ)の順で掘削速度が速い.
- 斧(木, 石, 鉄, 金, ダイヤ) ... 木製ブロックを掘る速度が上がる. 木<石<鉄<(金・ダイヤ)の順で回収速度が速い.
- リンゴ ... 唯一の食料であり, 食べると満腹度が回復する.
## 遊び方
### メニュー画面
- 「ワールド新規作成」をクリックでワールド新規作成画面へ
- 「続きからはじめる」をクリックでつづきから (読み込むワールドがない場合はエラーがこちらで作成したエラー文が返されて終了します)
- 「ゲームを終了する」をクリックでゲーム終了
### ワールド新規作成
- タイトル画面から「ワールド新規作成」を押して, 画面内でシード値を入力
- シード値を押す前にフォームを押す等のことをする必要はありません
- シード値が1文字以上入力されると「ワールドを作成」が出現するので押すとワールド生成画面に移動
### ゲーム画面
- 座標情報はセーブされないためスタート時の座標は毎回固定.
- 画面中央の十字線が視線
- 視線上の一定範囲内にブロックがあればブロックに白いフレームがつく.
- 画面下にある赤いハートマークが体力, 黄色い正方形が満腹度(減った分は黒色になる)
- 9つの枠は持ち物欄で, 太い枠になっている部分が選択中の持ち物
### プレイ中の操作
- AWSD ... 左/前/後/右 (以降これらを移動キーと記す)
- Ctrl+移動キー ... ダッシュ
- Shift+移動キー ... ゆっくり移動
- SPACE ... ジャンプ
- 1から9キー ... 持ち物の選択(左から1, 2, 3, 4, 5, ...)
- マウス左 ... 長押しでブロックを掘る
- マウス右 ... クリックでブロックを置く / (作業台かかまどを見ている場合)クラフト画面・かまど画面に移動 / (持ち物がリンゴなら)長押しでリンゴを食べる
- E ... インベントリ画面を開く
- F5 ... 視点変更(バグあり)
- F3 ... デバッグ画面表示
- ESC ... メニュー画面を開く
## インベントリ・クラフト画面内
- 下の36個のアイテム欄 ... 持ち物欄
    + 下9個はゲーム中に表示される9個のアイテムと対応していてゲーム中に利用するアイテムを置く.
    + 上27個はゲーム中に表示されない収納スペース.
    + アイテムを左/右クリック ... 全部持つ / 全部置く
    + アイテムを右クリック ... 半分持つ / 1個ずつ置く
- 右上の2x2の正方形に配置された欄 ... クラフトの素材を置く枠
    + ここにレシピ通りに正しく素材を配置するとその右にある枠に完成後のアイテムが表示される.
    + アイテムを左/右クリック ... 全部持つ / 全部置く.
    + アイテムを右クリック ... 半分持つ / 1個ずつ置く.
- 完成後のアイテムを右クリックで1回ずつクラフトをすることができる
- 終了時にクラフト部にアイテムが残っていると消滅してしまうため何も残していないことを確認する(ゴミ箱として使用可)
## かまど画面内
- 下の36個のアイテム欄 ... 持ち物欄
    + インベントリ・クラフト画面と同様
- 上部中央の3個の欄 ... 左上が素材, 左下が燃料, 右が完成後のアイテム
    + 砂 -> ガラスのレシピしかないため 素材は砂.
    + 燃料には木製ブロック, 木の道具, 石炭が利用できる.
    + 砂と燃料を配置すると, どちらかがなくなるまで砂の精錬を行う.
    + 左側へのブロックの置き方はクラフト素材置き場と同様.
    + 燃料を消費して燃焼を行い, 一定時間砂を燃焼するとガラスが製錬されて左に表示される.
    + ガラスは右クリックで1個づつとることができる.
    + クラフト画面とは異なり, いったん閉じても情報は保存される.
## メニュー画面
- 「ゲームに戻る」をクリックでゲーム画面に戻る.
- 「セーブ」をクリックでセーブ. セーブはちゃんとすること.
- 「タイトルに戻る」をクリックでゲームを終えてタイトルに戻る.
## 満腹と空腹
- 満腹度がほぼ最大であれば満腹状態, 満腹度が0であれば空腹状態となる.
- 満腹状態ではダメージを受けても一定時間ごとに体力が自然回復する.
- 空腹状態では一定時間ごとにダメージを受ける.
## 落下ダメージ
- ジャンプ時や落下時に高いところから落ちると落下ダメージが発生する.
## キャラクタの死亡とリスポーン
- キャラクタの体力が0になると全持ち物を失いリスタートする.
- 「全持ち物を失う」
## オートセーブ
- リスポーン時・チャンク読み込み時にオートセーブがかかります.